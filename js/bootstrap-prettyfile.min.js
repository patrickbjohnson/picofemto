(function($){$.fn.extend({prettyFile:function(options){var defaults={text:"Select Files"};var options=$.extend(defaults,options);var plugin=this;function make_form($el,text){$el.wrap("<div></div>");$el.hide();$el.after('\t\t\t\t<div class="input-append input-group file-upload-group">\t\t\t\t\t<input class="input-large form-control file_upload" type="text" placeholder="No File Chosen">\t\t\t\t\t<span class="input-group-btn">\t\t\t\t\t\t<button class="btn btn-default btn-upload" type="button"><span class="glyphicon glyphicon-folder-open upload-icon"></span>'+
text+"</button>\t\t\t\t\t</span>\t\t\t\t</div>\t\t\t\t");return $el.parent()}function bind_change($wrap,multiple){$wrap.find('input[type="file"]').change(function(){var files=$(this)[0].files,info="";if(files.length==0)return false;if(!multiple||files.length==1){var path=$(this).val().split("\\");info=path[path.length-1]}else if(files.length>1)info=files.length+" files selected";$wrap.find(".input-append input").val(info)})}function bind_button($wrap,multiple){$wrap.find(".input-append").click(function(e){e.preventDefault();
$wrap.find('input[type="file"]').click()})}return plugin.each(function(){$this=$(this);if($this){var multiple=$this.attr("multiple");$wrap=make_form($this,options.text);bind_change($wrap,multiple);bind_button($wrap)}})}})})(jQuery);
